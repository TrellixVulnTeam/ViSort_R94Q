{% extends "layout.html" %} {% block body %}

<div class="old_subtitle">
    <p id="enterlist_subtitle">Enter a list to be sorted </p>
    
    <p class="check">&#x2713;</p>

    {% if "list" in entries %}
        {% set list = entries["list"] %}
        <p id="list_subtitle">[
        {% for item in list[:10] %}
            {{item}}
            {{ "," if not loop.last }}
        {% endfor %}
        {% if list|length > 10 %}
            {{ "..." }}
        {% endif %}
        ]</p><br id="breakpoint">
    {% endif %}  
    
    <p id="algorithm_subtitle">Choose algorithm </p>
    
    <p class="check">&#x2713;</p>
    
    {% if "algorithms" in entries %}
        {% set alg_list = entries["algorithms"] %}
        <p id="alg_list_subtitle">
        {% for item in alg_list[:3] %}
            {% if item == "bubble" %}
                {{ "Bubble" }}
            {% elif item == "counting" %}
                {{ "Counting" }}
            {% elif item == "insertion" %}
                {{ "Insertion" }}
            {% elif item == "merge" %}
                {{ "Merge" }}
            {% elif item == "quick" %}
                {{ "Quick" }}
            {% endif %}
            {{ "," if not loop.last }}
        {% endfor %}
        {% if alg_list|length > 3 %}
            {{ "..." }}
        {% endif %}
        </p>
    {% endif %}
    
</div>

<p class="subtitle">Visualization</p>

<canvas id="myCanvas" width="1870" height="900" style="border:8px solid #6699cc;">
    </canvas>

<script>

//Input data needed

var squarenumber ={{squarenumber}};
var squarecolourpair = {{squarecolourpair}}
var array={{array}}
var noflinesofpsuedocode = {{noflinesofpsuedocode}}
var steps={{steps}}
var executingline = {{executingline}}


// CREATING SQUARES OF REQUIRED ARRAY SIZE
function SQUARES(sizeofarray,J,p){
var canvas = document.getElementById('myCanvas');
var ctx = canvas.getContext('2d');
var width = canvas.width;
var height = canvas.height;

//ctx.beginPath();
//ctx.moveTo(900, 20);
//ctx.lineTo(900, 800);
//ctx.strokeStyle = '#ff0000';
//ctx.stroke();


//Seperation line
ctx.fillStyle= 'red';
ctx.fillRect(1000,20,5,835);




var rectSize = 50;
for(var i=0;i<sizeofarray;i++) {

if(i<12)
{
j=i;
column=0;
}
else if(i>=12 && i<24)
{
j=i-12;
column=1;
}
else if(i>=24 && i<36)
{
j=i-24;
column=2;
}
else if(i>=36 && i<48)
{
j=i-36;
column=3;
}
else if(i>=48 && i<60)
{
j=i-48;
column=4;
}
else if(i>=60 && i<72)
{
j=i-60;
column=5;
}
else if(i>=72 && i<84)
{
j=i-72;
column=6;
}
else if(i>=84 && i<96)
{
j=i-84;
column=7;
}
else if(i>=96 && i<108)
{
j=i-96;
column=8;
}
else if(i>=108 && i<120){
j=i-108;
column=9;
}
else if(i>=120 && i<132){
j=i-120;
column=10;
}
else if(i>=132 && i<144){
j=i-132;
column=11;
}
else
{
j=i-144;
column=12;
}

if(i == squarecolourpair[J][0])
{
ctx.fillStyle= 'green';
ctx.fillRect(20+(80*j),20+(80*column),rectSize,rectSize);
ctx.fillStyle= 'white';
ctx.font = "18px Verdana";
ctx.fillText(array[J][i], 22+(80*j), 55+(80*column));

for(var q=0;q<noflinesofpsuedocode;q++) {

if(p==q)
{
ctx.fillStyle= 'green';

}
else
{
ctx.fillStyle= 'white';
}
ctx.fillRect(1100,130+(q*60),700,40);
}
ctx.fillStyle= 'black';
ctx.font = "22px Verdana";
ctx.fillText("Line 1 ", 1110, 160);
ctx.fillText("Line 2",  1110, 220);
ctx.fillText("Line 3",  1110, 280);
ctx.fillText("Line 4",  1110, 340);
ctx.fillText("Line 5",  1110, 400);
ctx.fillText("Line 6",  1110, 460);
ctx.fillText("Line 7 ", 1110, 520);
ctx.fillText("Line 8",  1110, 580);
ctx.fillText("Line 9",  1110, 640);
ctx.fillText("Line 10",  1110, 700);
ctx.fillText("Line 11",  1110, 760);
ctx.fillText("Line 12",  1110, 820);


ctx.fillStyle= 'maroon';
ctx.fillRect(1050,10,800,90);
ctx.fillStyle= 'white';
ctx.font = "50px Cooper";
ctx.fillText("Psuedocode", 1300, 65);


}

else if(i== squarecolourpair[J][1])
{
ctx.fillStyle= 'blue';
ctx.fillRect(20+(80*j),20+(80*column),rectSize,rectSize);
ctx.fillStyle= 'white';
ctx.font = "18px Verdana";
ctx.fillText(array[J][i], 22+(80*j), 55+(80*column));

for(var q=0;q<noflinesofpsuedocode;q++) {
if(p==q)
{
ctx.fillStyle= 'green';

}
else
{
ctx.fillStyle= 'white';
}
ctx.fillRect(1100,130+(q*60),700,40);
}
ctx.fillStyle= 'black';
ctx.font = "22px Verdana";
ctx.fillText("Line 1 ", 1110, 160);
ctx.fillText("Line 2",  1110, 220);
ctx.fillText("Line 3",  1110, 280);
ctx.fillText("Line 4",  1110, 340);
ctx.fillText("Line 5",  1110, 400);
ctx.fillText("Line 6",  1110, 460);
ctx.fillText("Line 7 ", 1110, 520);
ctx.fillText("Line 8",  1110, 580);
ctx.fillText("Line 9",  1110, 640);
ctx.fillText("Line 10",  1110, 700);
ctx.fillText("Line 11",  1110, 760);
ctx.fillText("Line 12",  1110, 820);

ctx.fillStyle= 'maroon';
ctx.fillRect(1050,10,800,90);
ctx.fillStyle= 'white';
ctx.font = "50px Cooper";
ctx.fillText("Psuedocode", 1300, 65);

}

else
{
ctx.fillStyle= 'black';
ctx.fillRect(20+(80*j),22+(80*column),rectSize,rectSize);
ctx.fillStyle= 'white';
ctx.font = "18px Verdana";
ctx.fillText(array[J][i], 22+(80*j), 55+(80*column));

for(var q=0;q<noflinesofpsuedocode;q++) {
if(p==q)
{
ctx.fillStyle= 'green';

}
else
{
ctx.fillStyle= 'white';
}
ctx.fillRect(1100,130+(q*60),700,40);
}
ctx.fillStyle= 'black';
ctx.font = "22px Verdana";
ctx.fillText("Line 1 ", 1110, 160);
ctx.fillText("Line 2",  1110, 220);
ctx.fillText("Line 3",  1110, 280);
ctx.fillText("Line 4",  1110, 340);
ctx.fillText("Line 5",  1110, 400);
ctx.fillText("Line 6",  1110, 460);
ctx.fillText("Line 7 ", 1110, 520);
ctx.fillText("Line 8",  1110, 580);
ctx.fillText("Line 9",  1110, 640);
ctx.fillText("Line 10",  1110, 700);
ctx.fillText("Line 11",  1110, 760);
ctx.fillText("Line 12",  1110, 820);


ctx.fillStyle= 'maroon';
ctx.fillRect(1050,10,800,90);
ctx.fillStyle= 'white';
ctx.font = "50px Cooper";
ctx.fillText("Psuedocode", 1300, 65);

}

}
}

//SQUARE CREATION ENDS

//var func = function(k)
//{
//  setTimeout(function() {
//    SQUARES(squarenumber,k);
//    }
//}

//for(var k=0;k<5;k++)
//{
//  func(k)
//}

//SQUARES(squarenumber,0);

for (var i = 0; i<steps;i++){
    (function(i){
       setTimeout(function(){SQUARES(squarenumber,i,executingline[i]); },i*
       1000);
       })(i);
    }


</script>

{% endblock %}